coverage:
  status:
    patch:
      default:
        target: 90%
        threshold: 1%

flags:
  unit:
    paths:
      - test/unit/
      - test/utilities/
      - test/services/
      - test/routes/
      - test/observability/
      - test/workers/
      - test/config/
      - test/fastifyPlugins/
      - test/plugin/
      - src/utilities/
      - src/services/
      - src/routes/
      - src/observability/
      - src/workers/
      - src/config/
      - src/fastifyPlugins/
      - src/plugin/
      - src/plugins/
  integration:
    paths:
      - test/drizzle/
      - test/graphql/
      - test/install/
      - src/drizzle/
      - src/graphql/
      - src/install/

flag_management:
  default_rules:
    carryforward: true
    statuses:
      - type: project
        target: auto
        threshold: 1%
      - type: patch
        target: 80%
        threshold: 1%
