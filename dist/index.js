import closeWithGrace from"close-with-grace";import{createServer}from"./createServer.js";const server=await createServer();await server.ready();closeWithGrace(async({err,signal})=>{if(err!==undefined){server.log.info({err},"Error encountered, gracefully shutting down the server.")}else if(signal!==undefined){server.log.info(`Signal '${signal}' received, gracefully shutting down the server.`)}else{server.log.info("Gracefully shutting down the server.")}await server.close()});server.listen({host:server.envConfig.API_HOST,port:server.envConfig.API_PORT},error=>{if(error){server.log.error({error},"Error encountered while starting the server.");process.exit(1)}});