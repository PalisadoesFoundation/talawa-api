"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[82720],{16854:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>l,contentTitle:()=>i,default:()=>h,frontMatter:()=>o,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"auto-docs/graphql/validators/helpers/functions/zParseOrThrow","title":"zParseOrThrow","description":"API Docs","source":"@site/docs/auto-docs/graphql/validators/helpers/functions/zParseOrThrow.md","sourceDirName":"auto-docs/graphql/validators/helpers/functions","slug":"/auto-docs/graphql/validators/helpers/functions/zParseOrThrow","permalink":"/docs/auto-docs/graphql/validators/helpers/functions/zParseOrThrow","draft":false,"unlisted":false,"editUrl":"https://github.com/PalisadoesFoundation/talawa-api/edit/develop/docs/docs/auto-docs/graphql/validators/helpers/functions/zParseOrThrow.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"uuid","permalink":"/docs/auto-docs/graphql/validators/core/variables/uuid"},"next":{"title":"install","permalink":"/docs/auto-docs/install/functions/install"}}');var a=n(86070),t=n(55288);const o={},i=void 0,l={},c=[{value:"Type Parameters",id:"type-parameters",level:2},{value:"TSchema",id:"tschema",level:3},{value:"Parameters",id:"parameters",level:2},{value:"schema",id:"schema",level:3},{value:"data",id:"data",level:3},{value:"Returns",id:"returns",level:2},{value:"Throws",id:"throws",level:2},{value:"Examples",id:"examples",level:2}];function d(e){const r={a:"a",blockquote:"blockquote",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,t.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r.p,{children:(0,a.jsx)(r.a,{href:"/",children:"API Docs"})}),"\n",(0,a.jsx)(r.hr,{}),"\n",(0,a.jsx)(r.h1,{id:"function-zparseorthrow",children:"Function: zParseOrThrow()"}),"\n",(0,a.jsxs)(r.blockquote,{children:["\n",(0,a.jsxs)(r.p,{children:[(0,a.jsx)(r.strong,{children:"zParseOrThrow"}),"<",(0,a.jsx)(r.code,{children:"TSchema"}),">(",(0,a.jsx)(r.code,{children:"schema"}),", ",(0,a.jsx)(r.code,{children:"data"}),"): ",(0,a.jsx)(r.code,{children:"Promise"}),"<",(0,a.jsx)(r.code,{children:"output"}),"<",(0,a.jsx)(r.code,{children:"TSchema"}),">>"]}),"\n"]}),"\n",(0,a.jsxs)(r.p,{children:["Defined in: ",(0,a.jsx)(r.a,{href:"https://github.com/PalisadoesFoundation/talawa-api/tree/mainsrc/graphql/validators/helpers.ts#L62",children:"src/graphql/validators/helpers.ts:62"})]}),"\n",(0,a.jsx)(r.p,{children:"Validates data against a Zod schema and throws a TalawaGraphQLError if validation fails."}),"\n",(0,a.jsx)(r.p,{children:"This helper eliminates boilerplate validation code in GraphQL resolvers by:"}),"\n",(0,a.jsxs)(r.ol,{children:["\n",(0,a.jsx)(r.li,{children:"Running async validation with Zod's safeParseAsync"}),"\n",(0,a.jsxs)(r.li,{children:["Mapping Zod validation errors to TalawaGraphQLError with the ",(0,a.jsx)(r.code,{children:"invalid_arguments"})," code"]}),"\n",(0,a.jsx)(r.li,{children:"Formatting error issues with argumentPath and message for client consumption"}),"\n"]}),"\n",(0,a.jsx)(r.h2,{id:"type-parameters",children:"Type Parameters"}),"\n",(0,a.jsx)(r.h3,{id:"tschema",children:"TSchema"}),"\n",(0,a.jsxs)(r.p,{children:[(0,a.jsx)(r.code,{children:"TSchema"})," ",(0,a.jsx)(r.em,{children:"extends"})," ",(0,a.jsx)(r.code,{children:"ZodType"}),"<",(0,a.jsx)(r.code,{children:"unknown"}),", ",(0,a.jsx)(r.code,{children:"unknown"}),", ",(0,a.jsx)(r.code,{children:"$ZodTypeInternals"}),"<",(0,a.jsx)(r.code,{children:"unknown"}),", ",(0,a.jsx)(r.code,{children:"unknown"}),">>"]}),"\n",(0,a.jsx)(r.h2,{id:"parameters",children:"Parameters"}),"\n",(0,a.jsx)(r.h3,{id:"schema",children:"schema"}),"\n",(0,a.jsx)(r.p,{children:(0,a.jsx)(r.code,{children:"TSchema"})}),"\n",(0,a.jsx)(r.p,{children:"The Zod schema to validate against"}),"\n",(0,a.jsx)(r.h3,{id:"data",children:"data"}),"\n",(0,a.jsx)(r.p,{children:(0,a.jsx)(r.code,{children:"unknown"})}),"\n",(0,a.jsx)(r.p,{children:"The data to validate (typically resolver args)"}),"\n",(0,a.jsx)(r.h2,{id:"returns",children:"Returns"}),"\n",(0,a.jsxs)(r.p,{children:[(0,a.jsx)(r.code,{children:"Promise"}),"<",(0,a.jsx)(r.code,{children:"output"}),"<",(0,a.jsx)(r.code,{children:"TSchema"}),">>"]}),"\n",(0,a.jsx)(r.p,{children:"The parsed and validated data with TypeScript type inference"}),"\n",(0,a.jsx)(r.h2,{id:"throws",children:"Throws"}),"\n",(0,a.jsx)(r.p,{children:'TalawaGraphQLError When validation fails, with code "invalid_arguments"'}),"\n",(0,a.jsx)(r.h2,{id:"examples",children:"Examples"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-ts",children:'// In a GraphQL resolver\nimport { zParseOrThrow } from "~/src/graphql/validators/helpers";\nimport { createPostInput } from "~/src/graphql/validators/core";\n\nconst mutationCreatePostArgumentsSchema = z.object({\n  input: createPostInput,\n});\n\nexport const Mutation_createPost = {\n  resolve: async (_parent, args, ctx) => {\n    const parsedArgs = await zParseOrThrow(\n      mutationCreatePostArgumentsSchema,\n      args\n    );\n\n    // parsedArgs is now typed and validated\n    // ...rest of resolver logic\n  },\n};\n'})}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-ts",children:'// Error handling example\ntry {\n  const data = await zParseOrThrow(schema, userInput);\n} catch (error) {\n  // error is a TalawaGraphQLError with:\n  // {\n  //   extensions: {\n  //     code: "invalid_arguments",\n  //     issues: [\n  //       { argumentPath: ["input", "title"], message: "Title too long" }\n  //     ]\n  //   }\n  // }\n}\n'})})]})}function h(e={}){const{wrapper:r}={...(0,t.R)(),...e.components};return r?(0,a.jsx)(r,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}},55288:(e,r,n)=>{n.d(r,{R:()=>o,x:()=>i});var s=n(30758);const a={},t=s.createContext(a);function o(e){const r=s.useContext(t);return s.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function i(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:o(e.components),s.createElement(t.Provider,{value:r},e.children)}}}]);