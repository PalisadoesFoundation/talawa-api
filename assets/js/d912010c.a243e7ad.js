"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[21181],{55288:(e,n,i)=>{i.d(n,{R:()=>c,x:()=>r});var t=i(30758);const s={},l=t.createContext(s);function c(e){const n=t.useContext(l);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:c(e.components),t.createElement(l.Provider,{value:n},e.children)}},87121:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>r,default:()=>h,frontMatter:()=>c,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"docs/developer-resources/features/events/action-items","title":"Event Action Items","description":"This guide explains how action items relate to events in Talawa, with a focus on recurring series and per-instance behavior. It complements the Events documentation.","source":"@site/docs/docs/developer-resources/features/events/action-items.md","sourceDirName":"docs/developer-resources/features/events","slug":"/developer-resources/action-items","permalink":"/docs/developer-resources/action-items","draft":false,"unlisted":false,"editUrl":"https://github.com/PalisadoesFoundation/talawa-api/edit/develop/docs/docs/docs/developer-resources/features/events/action-items.md","tags":[],"version":"current","sidebarPosition":20,"frontMatter":{"id":"action-items","title":"Event Action Items","slug":"/developer-resources/action-items","sidebar_position":20},"sidebar":"tutorialSidebar","previous":{"title":"Events Overview","permalink":"/docs/developer-resources/events-overview"},"next":{"title":"Event Volunteers and Volunteer Groups","permalink":"/docs/developer-resources/volunteers"}}');var s=i(86070),l=i(55288);const c={id:"action-items",title:"Event Action Items",slug:"/developer-resources/action-items",sidebar_position:20},r="Event Action Items",o={},d=[{value:"Overview",id:"overview",level:2},{value:"Key Concepts",id:"key-concepts",level:3},{value:"Data Model",id:"data-model",level:2},{value:"Tables Overview",id:"tables-overview",level:3},{value:"Action Items Table",id:"action-items-table",level:4},{value:"Action Item Exceptions Table",id:"action-item-exceptions-table",level:4},{value:"Recurring Event Instances Table",id:"recurring-event-instances-table",level:4},{value:"Concepts",id:"concepts",level:2},{value:"Action Item Types",id:"action-item-types",level:3},{value:"Association",id:"association",level:2},{value:"How Association Works",id:"how-association-works",level:3},{value:"Data Access",id:"data-access",level:2},{value:"Instance Resolution",id:"instance-resolution",level:3},{value:"Operations",id:"operations",level:2},{value:"Creating and Updating",id:"creating-and-updating",level:3},{value:"Create",id:"create",level:4},{value:"Update",id:"update",level:4},{value:"Complete",id:"complete",level:4},{value:"Delete",id:"delete",level:4},{value:"Series Split",id:"series-split",level:4},{value:"Exception Model",id:"exception-model",level:2},{value:"How Overrides Are Applied",id:"how-overrides-are-applied",level:3},{value:"Backend Implementation",id:"backend-implementation",level:2},{value:"Data Model Details",id:"data-model-details",level:3},{value:"Action Items Table",id:"action-items-table-1",level:4},{value:"Action Item Exceptions Table",id:"action-item-exceptions-table-1",level:4},{value:"Recurring Event Instances Table",id:"recurring-event-instances-table-1",level:4},{value:"GraphQL Implementation",id:"graphql-implementation",level:3},{value:"Read Path",id:"read-path",level:4},{value:"Instance Scope Mutations",id:"instance-scope-mutations",level:4},{value:"Template Scope Mutations",id:"template-scope-mutations",level:4},{value:"Code References",id:"code-references",level:2}];function a(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"event-action-items",children:"Event Action Items"})}),"\n",(0,s.jsx)(n.p,{children:"This guide explains how action items relate to events in Talawa, with a focus on recurring series and per-instance behavior. It complements the Events documentation."}),"\n",(0,s.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,s.jsx)(n.h3,{id:"key-concepts",children:"Key Concepts"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Two kinds of action items:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Series (template) action items"}),": attached to the recurring event template; inherit to every instance unless overridden."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Instance-only action items"}),": attached directly to one recurring instance (or a standalone event)."]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.li,{children:"Per-instance changes to a series item are stored as action item exceptions (override, complete, or delete just for that date)."}),"\n",(0,s.jsx)(n.li,{children:"Reading an instance's action items = series items \xb1 exceptions + instance-only items."}),"\n",(0,s.jsxs)(n.li,{children:["Deletions cascade appropriately:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Delete instance \u2192 removes its instance-only items and exceptions."}),"\n",(0,s.jsx)(n.li,{children:"Delete this and following \u2192 removes items/exceptions for affected future instances."}),"\n",(0,s.jsx)(n.li,{children:"Delete entire series \u2192 removes template items, all instance-only items, and all exceptions across the series."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"data-model",children:"Data Model"}),"\n",(0,s.jsx)(n.h3,{id:"tables-overview",children:"Tables Overview"}),"\n",(0,s.jsx)(n.p,{children:"Tables in talawa-api (Drizzle ORM):"}),"\n",(0,s.jsx)(n.h4,{id:"action-items-table",children:"Action Items Table"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"actionitems"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Series-level: ",(0,s.jsx)(n.code,{children:"eventId"})," = template event id; ",(0,s.jsx)(n.code,{children:"isTemplate=true"})," (advisory flag)."]}),"\n",(0,s.jsxs)(n.li,{children:["Instance-only: ",(0,s.jsx)(n.code,{children:"recurringEventInstanceId"})," = instance id (no inheritance)."]}),"\n",(0,s.jsxs)(n.li,{children:["Other fields: ",(0,s.jsx)(n.code,{children:"assignedAt"}),", ",(0,s.jsx)(n.code,{children:"preCompletionNotes"}),", ",(0,s.jsx)(n.code,{children:"postCompletionNotes"}),", ",(0,s.jsx)(n.code,{children:"isCompleted"}),", ",(0,s.jsx)(n.code,{children:"volunteerId"}),", ",(0,s.jsx)(n.code,{children:"volunteerGroupId"}),", ",(0,s.jsx)(n.code,{children:"categoryId"}),", ",(0,s.jsx)(n.code,{children:"organizationId"}),", ",(0,s.jsx)(n.code,{children:"creatorId"}),", ",(0,s.jsx)(n.code,{children:"updaterId"}),"."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"action-item-exceptions-table",children:"Action Item Exceptions Table"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"actionitem_exceptions"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"One row per (actionId, recurring instance) when a series item is overridden for a specific occurrence."}),"\n",(0,s.jsxs)(n.li,{children:["Fields: ",(0,s.jsx)(n.code,{children:"completed"}),", ",(0,s.jsx)(n.code,{children:"deleted"}),", ",(0,s.jsx)(n.code,{children:"assignedAt"}),", ",(0,s.jsx)(n.code,{children:"preCompletionNotes"}),", ",(0,s.jsx)(n.code,{children:"postCompletionNotes"}),", ",(0,s.jsx)(n.code,{children:"volunteerId"}),", ",(0,s.jsx)(n.code,{children:"volunteerGroupId"}),", ",(0,s.jsx)(n.code,{children:"categoryId"}),", ",(0,s.jsx)(n.code,{children:"assigneeId"}),"."]}),"\n",(0,s.jsx)(n.li,{children:"Unique(actionId, eventId) enforces one exception per action item per instance."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"recurring-event-instances-table",children:"Recurring Event Instances Table"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"recurring_event_instances"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Materialized occurrences for recurring events; used to anchor instance-only items and exceptions."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"concepts",children:"Concepts"}),"\n",(0,s.jsx)(n.h3,{id:"action-item-types",children:"Action Item Types"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Action item"}),": A task/todo associated with an event (title, description/notes, status, assignees, due date, etc.)."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Standalone event action item"}),": Attached directly to a single, non-recurring event."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Template (series) action item"}),": Attached to a recurring event template and inherited by each instance."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Instance action item"}),': Attached to one specific occurrence ("this instance only"). Also called a standalone action item for that instance.']}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Action item exception"}),": A per-instance override for a template action item (e.g., changed title/status for a particular date, or suppressed/deleted just for that one instance)."]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"association",children:"Association"}),"\n",(0,s.jsx)(n.h3,{id:"how-association-works",children:"How Association Works"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Standalone events"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Action items are linked directly to the event. No recurrence logic is involved."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Recurring events"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Two scopes are supported when creating action items:","\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Series (template): Create a template action item that applies to all instances by default."}),"\n",(0,s.jsx)(n.li,{children:"This instance only: Create an instance action item that exists only for the selected occurrence."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Reading an instance's action items resolves as:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Start with all template action items for the series."}),"\n",(0,s.jsx)(n.li,{children:"Apply any action item exceptions for this specific instance (overrides or suppressions)."}),"\n",(0,s.jsx)(n.li,{children:"Add any standalone instance action items."}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"data-access",children:"Data Access"}),"\n",(0,s.jsx)(n.h3,{id:"instance-resolution",children:"Instance Resolution"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Determine baseEventId = instance.baseRecurringEventId (for recurring) or event.id (for standalone)."}),"\n",(0,s.jsxs)(n.li,{children:["Query ",(0,s.jsx)(n.code,{children:"actionitems"})," where:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"eventId = baseEventId"})," (series/template items), OR"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"recurringEventInstanceId = instance.id"})," (instance-only items)."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Query ",(0,s.jsx)(n.code,{children:"actionitem_exceptions"})," where ",(0,s.jsx)(n.code,{children:"actionId IN (series items)"})," AND ",(0,s.jsx)(n.code,{children:"eventId = instance.id"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["For each series item:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"If exception.deleted = true \u2192 exclude for this instance."}),"\n",(0,s.jsx)(n.li,{children:"Else override provided fields (completed, notes, assignedAt, volunteer/group/category, assignee)."}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.li,{children:"Return final list (series-with-overrides + instance-only), then paginate."}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"operations",children:"Operations"}),"\n",(0,s.jsx)(n.h3,{id:"creating-and-updating",children:"Creating and Updating"}),"\n",(0,s.jsx)(n.h4,{id:"create",children:"Create"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Series (template) action item"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Attaches to the template; appears on every instance unless overridden/suppressed by an exception."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Instance-only action item"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Attaches to the selected occurrence; no impact on other dates."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"update",children:"Update"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Update an instance-only action item"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Directly updates that single record; no series impact."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Update a template action item for this instance only"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Creates or updates an action item exception for that instance which overrides the template item (e.g., changed status to Completed, edited notes, adjusted due date)."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Update a template action item for the entire series"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Edits the template record; affects all instances except those with per-instance exceptions for the changed fields."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"complete",children:"Complete"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Completing a template action item for this instance only"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Records an exception on that instance, setting its status to Completed; other instances remain unchanged."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Completing a template action item for the entire series"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Marks the template as Completed; instances reflect completion unless an instance has an exception stating otherwise."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"delete",children:"Delete"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Delete an instance-only action item"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Removes only that occurrence's action item."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Delete a template action item for this instance only"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Records an exception that suppresses that template action item for the chosen instance (it is treated as deleted only for this date)."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Delete a template action item for the entire series"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Removes the template item; it disappears from all instances except where a per-instance action item (standalone) exists."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"series-split",children:"Series Split"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"When a series is split, the new series starts fresh with its own template action items."}),"\n",(0,s.jsx)(n.li,{children:"Existing instance-only items and exceptions remain attached to the old instances; no automatic copying of template items to the new series unless explicitly implemented."}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"exception-model",children:"Exception Model"}),"\n",(0,s.jsx)(n.h3,{id:"how-overrides-are-applied",children:"How Overrides Are Applied"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["For any given instance, the resolved action item list is computed by:","\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Listing all template (series) action items."}),"\n",(0,s.jsx)(n.li,{children:"Applying per-instance exceptions (overrides/complete/suppress) to those template items."}),"\n",(0,s.jsx)(n.li,{children:"Adding all instance-only action items."}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.li,{children:"This is analogous to how event field exceptions work for recurring instances."}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"backend-implementation",children:"Backend Implementation"}),"\n",(0,s.jsx)(n.h3,{id:"data-model-details",children:"Data Model Details"}),"\n",(0,s.jsx)(n.p,{children:"Key tables and fields used to associate action items with events and instances:"}),"\n",(0,s.jsx)(n.h4,{id:"action-items-table-1",children:"Action Items Table"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"actionitems"})," (",(0,s.jsx)(n.code,{children:"src/drizzle/tables/actionItems.ts"}),")","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["eventId: UUID \u2192 references ",(0,s.jsx)(n.code,{children:"events.id"})," (recurring template or standalone event)"]}),"\n",(0,s.jsxs)(n.li,{children:["recurringEventInstanceId: UUID \u2192 references ",(0,s.jsx)(n.code,{children:"recurring_event_instances.id"})," (instance-only action item)"]}),"\n",(0,s.jsx)(n.li,{children:"isTemplate: boolean \u2192 when true, indicates a series-level (template) action item"}),"\n",(0,s.jsx)(n.li,{children:"organizationId, creatorId, updaterId, assignedAt, preCompletionNotes, postCompletionNotes, isCompleted, categoryId, volunteerId, volunteerGroupId"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"action-item-exceptions-table-1",children:"Action Item Exceptions Table"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"actionitem_exceptions"})," (",(0,s.jsx)(n.code,{children:"src/drizzle/tables/actionItemExceptions.ts"}),")","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["actionId: UUID \u2192 references ",(0,s.jsx)(n.code,{children:"actionitems.id"})," (the series-level action item being overridden)"]}),"\n",(0,s.jsxs)(n.li,{children:["eventId: UUID \u2192 references ",(0,s.jsx)(n.code,{children:"recurring_event_instances.id"})," (the specific instance where the override applies)"]}),"\n",(0,s.jsx)(n.li,{children:"Unique(actionId, eventId) \u2192 one override per action item per instance"}),"\n",(0,s.jsx)(n.li,{children:"Fields mirrored for overrides: assignedAt, preCompletionNotes, postCompletionNotes, completed, deleted, volunteerId, volunteerGroupId, categoryId, assigneeId"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"recurring-event-instances-table-1",children:"Recurring Event Instances Table"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"recurring_event_instances"})," (",(0,s.jsx)(n.code,{children:"src/drizzle/tables/recurringEventInstances.ts"}),")","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Holds materialized instances for recurring events, used to scope exceptions and instance-only action items."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"graphql-implementation",children:"GraphQL Implementation"}),"\n",(0,s.jsx)(n.h4,{id:"read-path",children:"Read Path"}),"\n",(0,s.jsxs)(n.p,{children:["Resolver: ",(0,s.jsx)(n.code,{children:"src/graphql/types/Event/actionItems.ts"})]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["For a given Event node (standalone or instance):","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Determine baseEventId = parent.baseRecurringEventId || parent.id"}),"\n",(0,s.jsxs)(n.li,{children:["Query actionitems where:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"eventId = baseEventId (series-level items), OR"}),"\n",(0,s.jsx)(n.li,{children:"recurringEventInstanceId = parent.id (instance-only items)"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.li,{children:"Fetch actionitem_exceptions for the current instance: where actionId IN (above) AND eventId = parent.id"}),"\n",(0,s.jsxs)(n.li,{children:["Apply per-item logic:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"If exception.deleted = true \u2192 exclude this item for this instance"}),"\n",(0,s.jsx)(n.li,{children:"Otherwise override fields (completed, assignedAt, notes, volunteer/volunteerGroup/category, etc.)"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.li,{children:"Return paginated list"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"instance-scope-mutations",children:"Instance Scope Mutations"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"completeActionItemForInstance \u2192 sets exception.completed = true and postCompletionNotes"}),"\n",(0,s.jsx)(n.li,{children:"markActionItemAsPendingForInstance \u2192 sets exception.completed = false"}),"\n",(0,s.jsx)(n.li,{children:"updateActionItemForInstance \u2192 upserts instance-specific overrides (assignedAt, preCompletionNotes, volunteer, group, category)"}),"\n",(0,s.jsx)(n.li,{children:"deleteActionItemForInstance \u2192 sets exception.deleted = true (suppresses series item just for this date)"}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"template-scope-mutations",children:"Template Scope Mutations"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"deleteActionItem \u2192 deletes the template action item, after first deleting all its exceptions"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"code-references",children:"Code References"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Tables"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["actionItems: ",(0,s.jsx)(n.code,{children:"src/drizzle/tables/actionItems.ts"})]}),"\n",(0,s.jsxs)(n.li,{children:["actionItemExceptions: ",(0,s.jsx)(n.code,{children:"src/drizzle/tables/actionItemExceptions.ts"})]}),"\n",(0,s.jsxs)(n.li,{children:["recurringEventInstances: ",(0,s.jsx)(n.code,{children:"src/drizzle/tables/recurringEventInstances.ts"})]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Resolvers"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Event.actionItems: ",(0,s.jsx)(n.code,{children:"src/graphql/types/Event/actionItems.ts"})]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Mutations (instance scope)"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["completeActionItemForInstance: ",(0,s.jsx)(n.code,{children:"src/graphql/types/Mutation/completeActionItemForInstance.ts"})]}),"\n",(0,s.jsxs)(n.li,{children:["markActionItemAsPendingForInstance: ",(0,s.jsx)(n.code,{children:"src/graphql/types/Mutation/markActionItemAsPendingForInstance.ts"})]}),"\n",(0,s.jsxs)(n.li,{children:["updateActionItemForInstance: ",(0,s.jsx)(n.code,{children:"src/graphql/types/Mutation/updateActionItemForInstance.ts"})]}),"\n",(0,s.jsxs)(n.li,{children:["deleteActionItemForInstance: ",(0,s.jsx)(n.code,{children:"src/graphql/types/Mutation/deleteActionItemForInstance.ts"})]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Mutations (template scope)"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["deleteActionItem: ",(0,s.jsx)(n.code,{children:"src/graphql/types/Mutation/deleteActionItem.ts"})]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Mutations (event lifecycle)"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["deleteSingleEventInstance: ",(0,s.jsx)(n.code,{children:"src/graphql/types/Mutation/deleteSingleEventInstance.ts"})]}),"\n",(0,s.jsxs)(n.li,{children:["deleteThisAndFollowingEvents: ",(0,s.jsx)(n.code,{children:"src/graphql/types/Mutation/deleteThisAndFollowingEvents.ts"})]}),"\n",(0,s.jsxs)(n.li,{children:["deleteEntireRecurringEventSeries: ",(0,s.jsx)(n.code,{children:"src/graphql/types/Mutation/deleteEntireRecurringEventSeries.ts"})]}),"\n"]}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}}}]);